<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="dp.css">
</head>
<body>
    <!-- Navbar -->
    <div class="montserrat-dome" style="background-color: #674188; text-align: center; align-items: center; justify-content: center;padding: 5px; font-size: xx-large; font-weight: 900; color: white;" >
        <p><pre>D i s c u s s i o n    P o r t a l</pre></p>
    </div>  

    <div class="lrparent" style="display: flex;">

        <div class="leftpane" style="width: 50%; height: 500px;">
            <div class="left_function" >
                <button class="button-33" onclick="question1_div_create()">New Form</button>
                <input type="text" name="searchbox" id="searchbox" placeholder="Search...." style="border-radius: 15px; background-color: antiquewhite;height: 30px;">
            </div>

            <div class="chatarea" style="margin: 0;">
                <h1>Chat area</h1>
            </div>
        </div>

        <div class="rightpane" style="width: 50%; height: 500px;">
            
        </div>

    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="dp.js"></script>
</body>
</html>

js code :

    let lrparent = document.querySelector(".lrparent")
    let chatarea = document.querySelector(".chatarea");

    let title = document.getElementById("title");
    let question = document.getElementById("question");
    let submitQuesButton = document.getElementById("submitquestion");
    let rightpane = document.querySelector(".rightpane") ;


function question1_div_create()
{

    let q1title = document.createElement("h2")
    q1title.innerText ="wassup" ;
    //..................................................
    let q1input_title = document.createElement("textarea");
    q1input_title.setAttribute("class","pretty-textarea") ;
    let q1input_qdata = document.createElement("textarea") ;
    q1input_qdata.setAttribute("class","pretty-textarea") ;
    let q1button = document.createElement("button") ;
    q1button.setAttribute("class","button-33") ;
    q1button.innerText = "Submit " ;

    rightpane.appendChild(q1title) ;
    rightpane.appendChild(q1input_title) ;
    rightpane.appendChild(q1input_qdata) ;
    rightpane.appendChild(q1button) ;

    let chat_div = document.createElement("div") ;
    let chat_title = document.createElement("h3") ;
    let chat_data = document.createElement("p") ;

    chat_title.innerText = q1input_title.value ;
    chat_data.innerText = q1input_qdata.value ;

    chat_div.appendChild(chat_title) ;
    chat_div.appendChild(chat_data) ;

    chatarea.appendChild(chat_div) ;

}
function question2_div_create()
{

 let q2heading = document.createElement("h3") ;
 q2heading.innerText = "Question " ;
 let q2displaybox = document.createElement("div") ;
 let q2ques_title = document.createElement("p") ;
 q2ques_title.innerText = "title " ;
 let q2ques_data  = document.createElement("p") ;
 q2ques_data.innerText = "question data " ;

 let q2button = document.createElement("button") ;
 q2button.setAttribute("class","button-33") ;
 q2button.innerText = "Resolve ";

 q2displaybox.appendChild(q2heading);
 q2displaybox.appendChild(q2ques_title);
 q2displaybox.appendChild(q2ques_data) ;
 q2displaybox.appendChild(q2button) ;

 rightpane.appendChild(q2displaybox) ;

}



.................................................

let lrparent = document.querySelector(".lrparent");
let chatarea = document.querySelector(".chatarea");

let title = document.getElementById("title");
let question = document.getElementById("question");
let submitQuesButton = document.getElementById("submitquestion");
let rightpane = document.querySelector(".rightpane");

function question1_div_create() 
{
    let q1title = document.createElement("h2");
    q1title.innerText = "wassup";
    //..................................................
    let q1input_title = document.createElement("textarea");
    q1input_title.setAttribute("class", "pretty-textarea");
    let q1input_qdata = document.createElement("textarea");
    q1input_qdata.setAttribute("class", "pretty-textarea");
    let q1button = document.createElement("button");
    q1button.setAttribute("class", "button-33");
    q1button.innerText = "Submit";

    rightpane.appendChild(q1title);
    rightpane.appendChild(q1input_title);
    rightpane.appendChild(q1input_qdata);
    rightpane.appendChild(q1button);

    q1button.addEventListener("click", function() {
        let chat_div = document.createElement("div");
        chat_div.setAttribute("id",(Date.now())) ;
        chat_div.setAttribute("class","chatn") ;
        let chat_title = document.createElement("h3");
        let chat_data = document.createElement("p");

        chat_title.innerText = q1input_title.value;
        chat_data.innerText = q1input_qdata.value;

        chat_div.appendChild(chat_title);
        chat_div.appendChild(chat_data);

        chatarea.appendChild(chat_div);

        q1input_title.value = "";
        q1input_qdata.value = "";
        chat_div.setAttribute("onclick","getChatId(this)") ;
    });

}
function getChatId(current_chat)
    {
        let title = document.getElementById(current_chat.id) ;
        
    }

function question2_div_create()
{

 let q2heading = document.createElement("h3") ;
 q2heading.innerText = "Question " ;
 let q2displaybox = document.createElement("div") ;
 let q2ques_title = document.createElement("p") ;
 q2ques_title.innerText = "title " ;
 let q2ques_data  = document.createElement("p") ;
 q2ques_data.innerText = "question data " ;

 let q2button = document.createElement("button") ;
 q2button.setAttribute("class","button-33") ;
 q2button.innerText = "Resolve ";

 q2displaybox.appendChild(q2heading);
 q2displaybox.appendChild(q2ques_title);
 q2displaybox.appendChild(q2ques_data) ;
 q2displaybox.appendChild(q2button) ;

 rightpane.appendChild(q2displaybox) ;

}
window.onload(question1_div_create()) ;

















let lrparent = document.querySelector(".lrparent");
let chatarea = document.querySelector(".chatarea");

let title = document.getElementById("title");
let question = document.getElementById("question");
let submitQuesButton = document.getElementById("submitquestion");
let rightpane = document.querySelector(".rightpane");
var idtoberesolved ;
let chat_storage_array =[] ;


function question1_div_create() {
    rightpane.innerHTML = "";

    let q1title = document.createElement("h2");
    q1title.innerText = "Enter your query here : ";
    let q1input_title = document.createElement("textarea");
    q1input_title.placeholder = "Title here : "
    q1input_title.setAttribute("class", "pretty-textarea");
    let q1input_qdata = document.createElement("textarea");
    q1input_qdata.setAttribute("class", "pretty-textarea");
    q1input_qdata.placeholder = "My question is..............?" ;
    q1input_qdata.style.display = "block ";
    let q1button = document.createElement("button");
    q1button.setAttribute("class", "button-33");
    q1button.innerText = "Submit";

    rightpane.appendChild(q1title);
    rightpane.appendChild(q1input_title);
    rightpane.appendChild(q1input_qdata);
    rightpane.appendChild(q1button);

    q1button.addEventListener("click", function() {
        let chat_div = document.createElement("div");
        chat_div.setAttribute("id", Date.now().toString());
        chat_div.setAttribute("class","chatn") ;

        let chat_title = document.createElement("h3");
        let chat_data = document.createElement("p");
        chat_title.innerText = q1input_title.value;
        chat_data.innerText = q1input_qdata.value;

        chat_div.appendChild(chat_title);
        chat_div.appendChild(chat_data);

        chatarea.appendChild(chat_div);

        q1input_title.value = "";
        q1input_qdata.value = "";

        chat_div.addEventListener("click", function() {
            question2_div_create(chat_title.innerText, chat_data.innerText);
        });
        let chat_obj = {
            title_in_storage:chat_title.innerText,
            chat_data_in_storage:chat_data.innerText,
            id_current_storage: chat_div.id
        }
        chat_storage_array.push(chat_obj);
        localStorage.setItem("chat_local_storage",JSON.stringify(chat_storage_array)) ;
        
        chat_div.setAttribute("onclick","getChatId(this)") ;
    });
}

function question2_div_create(titleText, dataText) {
    rightpane.innerHTML = "";

    let q2heading = document.createElement("h3");
    q2heading.innerText = "Question";
    let q2displaybox = document.createElement("div");
    let q2ques_title = document.createElement("p");
    q2ques_title.innerText = titleText;
    let q2ques_data = document.createElement("p");
    q2ques_data.innerText = dataText;

    let q2button = document.createElement("button");
    q2button.setAttribute("class", "button-33");
    q2button.innerText = "Resolve";

    q2displaybox.appendChild(q2heading);
    q2displaybox.appendChild(q2ques_title);
    q2displaybox.appendChild(q2ques_data);
    q2displaybox.appendChild(q2button);

    rightpane.appendChild(q2displaybox);
}

submitQuesButton.addEventListener("click", question1_div_create);

window.onload(question1_div_create()) ;

//     function getChatId(e)
// {
//     console.log(e.id)
// }


//////current best : 

let lrparent = document.querySelector(".lrparent");
let chatarea = document.querySelector(".chatarea");

let title = document.getElementById("title");
let question = document.getElementById("question");
let submitQuesButton = document.getElementById("submitquestion");
let rightpane = document.querySelector(".rightpane");
var idtoberesolved ;
let chat_storage_array =[] ;


function question1_div_create() {
    rightpane.innerHTML = "";

    let q1title = document.createElement("h2");
    q1title.innerText = "Enter your query here : ";
    let q1input_title = document.createElement("textarea");
    q1input_title.placeholder = "Title here : "
    q1input_title.setAttribute("class", "pretty-textarea");
    let q1input_qdata = document.createElement("textarea");
    q1input_qdata.setAttribute("class", "pretty-textarea");
    q1input_qdata.placeholder = "My question is..............?" ;
    q1input_qdata.style.display = "block ";
    let q1button = document.createElement("button");
    q1button.setAttribute("class", "button-33");
    q1button.innerText = "Submit";

    rightpane.appendChild(q1title);
    rightpane.appendChild(q1input_title);
    rightpane.appendChild(q1input_qdata);
    rightpane.appendChild(q1button);

    q1button.addEventListener("click", function() {
        let chat_div = document.createElement("div");
        chat_div.setAttribute("id", Date.now().toString());
        chat_div.setAttribute("class","chatn") ;

        let chat_title = document.createElement("h3");
        let chat_data = document.createElement("p");
        chat_title.innerText = q1input_title.value;
        chat_data.innerText = q1input_qdata.value;

        chat_div.appendChild(chat_title);
        chat_div.appendChild(chat_data);

        chatarea.appendChild(chat_div);

        q1input_title.value = "";
        q1input_qdata.value = "";

        chat_div.addEventListener("click", function() {
            question2_div_create(chat_title.innerText, chat_data.innerText,this);
        });
        let chat_obj = {
            title_in_storage:chat_title.innerText,
            chat_data_in_storage:chat_data.innerText,
            id_current_storage: chat_div.id
        }
        chat_storage_array.push(chat_obj);

        localStorage.setItem("chat_local_storage",JSON.stringify(chat_storage_array)) ;
        chat_div.setAttribute("onclick","getChatId(this)") ;
    });
}

function question2_div_create(titleText, dataText,x) {
    rightpane.innerHTML = "";

    let q2heading = document.createElement("h3");
    q2heading.innerText = "Question";
    let q2displaybox = document.createElement("div");
    let q2ques_title = document.createElement("p");
    q2ques_title.innerText = titleText;
    let q2ques_data = document.createElement("p");
    q2ques_data.innerText = dataText;

    let q2button = document.createElement("button");
    q2button.setAttribute("class", "button-33");
    q2button.innerText = "Resolve";

    let Response = document.createElement("h4");
    Response.innerText = "Response";
    let addResponse = document.createElement("h3");
    addResponse.innerText = "Add response here : ";
    let addResponsetitlebox = document.createElement("textarea");
    addResponsetitlebox.innerText = "Add response here : ";
    let addResponsedatabox = document.createElement("textarea");
    addResponsedatabox.innerText = "Add response here : ";

    q2button.addEventListener("click", function() {
        x.remove();
        chat_storage_array = chat_storage_array.filter(chat => chat.id_current_storage !== x.id);
        localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
    });

    q2displaybox.appendChild(q2heading);
    q2displaybox.appendChild(q2ques_title);
    q2displaybox.appendChild(q2ques_data);
    q2displaybox.appendChild(q2button);
    q2displaybox.appendChild(Response);
    q2displaybox.appendChild(addResponse);
    q2displaybox.appendChild(addResponsetitlebox);
    q2displaybox.appendChild(addResponsedatabox);


    rightpane.appendChild(q2displaybox);
}

submitQuesButton.addEventListener("click", question1_div_create);

window.onload(question1_div_create()) ;

//     function getChatId(e)
// {
//     console.log(e.id)
// }

































let lrparent = document.querySelector(".lrparent");
let chatarea = document.querySelector(".chatarea");

let title = document.getElementById("title");
let question = document.getElementById("question");
let submitQuesButton = document.getElementById("submitquestion");
let rightpane = document.querySelector(".rightpane");
var idtoberesolved ;
let chat_storage_array =[] ;


function question1_div_create() {
    rightpane.innerHTML = "";

    let q1title = document.createElement("h2");
    q1title.innerText = "Enter your query here : ";
    let q1input_title = document.createElement("textarea");
    q1input_title.placeholder = "Title here : "
    q1input_title.setAttribute("class", "pretty-textarea");
    let q1input_qdata = document.createElement("textarea");
    q1input_qdata.setAttribute("class", "pretty-textarea");
    q1input_qdata.placeholder = "My question is..............?" ;
    q1input_qdata.style.display = "block ";
    let q1button = document.createElement("button");
    q1button.setAttribute("class", "button-33");
    q1button.innerText = "Submit";

    rightpane.appendChild(q1title);
    rightpane.appendChild(q1input_title);
    rightpane.appendChild(q1input_qdata);
    rightpane.appendChild(q1button);

    q1button.addEventListener("click", function() {
        let chat_div = document.createElement("div");
        chat_div.setAttribute("id", Date.now().toString());
        chat_div.setAttribute("class","chatn") ;

        let chat_title = document.createElement("h3");
        let chat_data = document.createElement("p");
        chat_title.innerText = q1input_title.value;
        chat_data.innerText = q1input_qdata.value;

        chat_div.appendChild(chat_title);
        chat_div.appendChild(chat_data);

        chatarea.appendChild(chat_div);

        q1input_title.value = "";
        q1input_qdata.value = "";

        chat_div.addEventListener("click", function() {
            question2_div_create(chat_title.innerText, chat_data.innerText,this);
        });
        let chat_obj = {
            title_in_storage:chat_title.innerText,
            chat_data_in_storage:chat_data.innerText,
            id_current_storage: chat_div.id
        }
        chat_storage_array.push(chat_obj);

        localStorage.setItem("chat_local_storage",JSON.stringify(chat_storage_array)) ;
        chat_div.setAttribute("onclick","getChatId(this)") ;
    });
}

function question2_div_create(titleText, dataText,x) {
    rightpane.innerHTML = "";

    let q2heading = document.createElement("h3");
    q2heading.innerText = "Question";
    let q2displaybox = document.createElement("div");
    let q2ques_title = document.createElement("p");
    q2ques_title.style.backgroundColor ="antiquewhite";
    q2ques_title.innerText = titleText;
    let q2ques_data = document.createElement("p");
    q2ques_data.innerText = dataText;
    q2ques_data.style.backgroundColor ="grey" ;

    let q2button = document.createElement("button");
    q2button.setAttribute("class", "button-33");
    q2button.innerText = "Resolve";

    let solutionarea =document.createElement("div") ;
    solutionarea.id = "solutionarea" ;

    let Response = document.createElement("h4");
    Response.innerText = "Response";
    let addResponse = document.createElement("h3");
    addResponse.innerText = "Add response here : ";
    let addResponsetitlebox = document.createElement("textarea");
    addResponsetitlebox.innerText = "Add response here : ";
    let addResponsedatabox = document.createElement("textarea");
    addResponsedatabox.innerText = "Add response here : ";
    addResponsedatabox.display = "block"; 
    let addResponse_button = document.createElement("button") ;
    addResponse.innerText = "Add" ;
    addResponse.className = "button-33" ;
    q2button.addEventListener("click", function() {
        x.remove();
        chat_storage_array = chat_storage_array.filter(chat => chat.id_current_storage !== x.id);
        localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
        question1_div_create() ;
    });

    solutionarea.appendChild(q2heading);
    solutionarea.appendChild(q2ques_title);
    solutionarea.appendChild(q2ques_data);
    solutionarea.appendChild(q2button);

    q2displaybox.appendChild(solutionarea) ;
    
    q2displaybox.appendChild(Response);
    q2displaybox.appendChild(addResponse);
    q2displaybox.appendChild(addResponsetitlebox);
    q2displaybox.appendChild(addResponsedatabox);
    q2displaybox.appendChild(addResponse_button);
    
    //Add responses : : : : : : : : : : : : : : : : : : : :
    addResponse.addEventListener("click",function(){
        let particular_response = document.createElement("div") ;
        particular_response.className = "chatn" ;

        let particular_response_title = document.createElement("h2") ;
        let particular_response_data = document.createElement("p") ;

        particular_response_title.innerText = addResponsetitlebox.value;
        particular_response_data.innerText = addResponsedatabox.value;

        particular_response.appendChild(particular_response_title) ;
        particular_response.appendChild(particular_response_data) ;

        solutionarea.appendChild(particular_response); 
    });

    rightpane.appendChild(q2displaybox);
}

submitQuesButton.addEventListener("click", question1_div_create);

window.onload(question1_div_create()) ;

//     function getChatId(e)
// {
//     console.log(e.id)
// }















let lrparent = document.querySelector(".lrparent");
let chatarea = document.querySelector(".chatarea");

let title = document.getElementById("title");
let question = document.getElementById("question");
let submitQuesButton = document.getElementById("submitquestion");
let rightpane = document.querySelector(".rightpane");
var idtoberesolved ;
let chat_storage_array =[] ;
let responses_count=0 ;

function question1_div_create() {
    rightpane.innerHTML = "";

    let q1title = document.createElement("h2");
    q1title.innerText = "Enter your query here : ";
    let q1input_title = document.createElement("textarea");
    q1input_title.placeholder = "Title here : "
    q1input_title.setAttribute("class", "pretty-textarea");
    let q1input_qdata = document.createElement("textarea");
    q1input_qdata.setAttribute("class", "pretty-textarea");
    q1input_qdata.placeholder = "My question is..............?" ;
    q1input_qdata.style.display = "block ";
    let q1button = document.createElement("button");
    q1button.setAttribute("class", "button-33");
    q1button.innerText = "Submit";

    rightpane.appendChild(q1title);
    rightpane.appendChild(q1input_title);
    rightpane.appendChild(q1input_qdata);
    rightpane.appendChild(q1button);

    q1button.addEventListener("click", function() {
        let chat_div = document.createElement("div");
        chat_div.setAttribute("id", Date.now().toString());
        chat_div.setAttribute("class","chatn") ;

        let chat_title = document.createElement("h3");
        let chat_data = document.createElement("p");
        chat_title.innerText = q1input_title.value;
        chat_data.innerText = q1input_qdata.value;

        chat_div.appendChild(chat_title);
        chat_div.appendChild(chat_data);

        chatarea.appendChild(chat_div);

        q1input_title.value = "";
        q1input_qdata.value = "";

        chat_div.addEventListener("click", function() {
            question2_div_create(chat_title.innerText, chat_data.innerText,this);
        });
        let chat_obj = {
            title_in_storage:chat_title.innerText,
            chat_data_in_storage:chat_data.innerText,
            id_current_storage: chat_div.id,
            responses:[]
        }
        chat_storage_array.push(chat_obj);

        localStorage.setItem("chat_local_storage",JSON.stringify(chat_storage_array)) ;
        //chat_div.setAttribute("onclick","getChatId(this)") ;
    });
}

function question2_div_create(titleText, dataText,x) {
    rightpane.innerHTML = "";

    let q2heading = document.createElement("h3");
    q2heading.innerText = "Question";
    let q2displaybox = document.createElement("div");
    let q2ques_title = document.createElement("p");
    q2ques_title.style.backgroundColor ="antiquewhite";
    q2ques_title.innerText = titleText;
    let q2ques_data = document.createElement("p");
    q2ques_data.innerText = dataText;
    q2ques_data.style.backgroundColor ="grey" ;

    let q2button = document.createElement("button");
    q2button.setAttribute("class", "button-33");
    q2button.innerText = "Resolve";

    let solutionarea =document.createElement("div") ;
    solutionarea.id = "solutionarea" ;

    let Response = document.createElement("h4");
    Response.innerText = "Response";
    let addResponse = document.createElement("h3");
    addResponse.innerText = "Add response here : ";
    let addResponsetitlebox = document.createElement("textarea");
    addResponsetitlebox.innerText = "Add response here : ";
    let addResponsedatabox = document.createElement("textarea");
    addResponsedatabox.innerText = "Add response here : ";
    addResponsedatabox.display = "block"; 
    let addResponse_button = document.createElement("button") ;
    addResponse.innerText = "Add" ;
    addResponse.className = "button-33" ;
    q2button.addEventListener("click", function() {
        x.remove();
        chat_storage_array = chat_storage_array.filter(chat => chat.id_current_storage !== x.id);
        localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
        question1_div_create() ;
    });

    solutionarea.appendChild(q2heading);
    solutionarea.appendChild(q2ques_title);
    solutionarea.appendChild(q2ques_data);
    solutionarea.appendChild(q2button);

    q2displaybox.appendChild(solutionarea) ;
    
    q2displaybox.appendChild(Response);
    q2displaybox.appendChild(addResponse);
    q2displaybox.appendChild(addResponsetitlebox);
    q2displaybox.appendChild(addResponsedatabox);
    q2displaybox.appendChild(addResponse_button);
    
    //Add responses : : : : : : : : : : : : : : : : : : : :
    addResponse.addEventListener("click",function(){
        let particular_response = document.createElement("div") ;
        particular_response.className = "chatn" ;

        let particular_response_title = document.createElement("h2") ;
        let particular_response_data = document.createElement("p") ;

        particular_response_title.innerText = addResponsetitlebox.value;
        particular_response_data.innerText = addResponsedatabox.value;

        particular_response.appendChild(particular_response_title) ;
        particular_response.appendChild(particular_response_data) ;

        solutionarea.appendChild(particular_response); 

        //Storing response in local storage :
        chat_storage_array[0].responses[responses_count] = JSON.stringify(addResponsetitlebox.value);
        responses_count++;
    });

    rightpane.appendChild(q2displaybox);
}



window.onload = question1_div_create ;

//submitQuesButton.addEventListener("click", question1_div_create);
//     function getChatId(e)
// {
//     console.log(e.id)
// }





last....................................................
let lrparent = document.querySelector(".lrparent");
let chatarea = document.querySelector(".chatarea");

let title = document.getElementById("title");
let question = document.getElementById("question");
let submitQuesButton = document.getElementById("submitquestion");
let rightpane = document.querySelector(".rightpane");
var idtoberesolved ;
let chat_storage_array =[] ;
let responses_count=0 ;


// ///////////////////////////////////////////////////////////////////
function question1_div_create() {
    rightpane.innerHTML = "";

    let q1title = document.createElement("h2");
    q1title.innerText = "Enter your query here : ";
    let q1input_title = document.createElement("textarea");
    q1input_title.placeholder = "Title here : "
    q1input_title.setAttribute("class", "pretty-textarea");
    let q1input_qdata = document.createElement("textarea");
    q1input_qdata.setAttribute("class", "pretty-textarea");
    q1input_qdata.placeholder = "My question is..............?" ;
    q1input_qdata.style.display = "block ";
    let q1button = document.createElement("button");
    q1button.setAttribute("class", "button-33");
    q1button.innerText = "Submit";

    rightpane.appendChild(q1title);
    rightpane.appendChild(q1input_title);
    rightpane.appendChild(q1input_qdata);
    rightpane.appendChild(q1button);

    q1button.addEventListener("click", function() {
        let chat_div = document.createElement("div");
        chat_div.setAttribute("id", Date.now().toString());
        chat_div.setAttribute("class","chatn") ;

        let chat_title = document.createElement("h3");
        let chat_data = document.createElement("p");
        chat_title.innerText = q1input_title.value;
        chat_data.innerText = q1input_qdata.value;

        chat_div.appendChild(chat_title);
        chat_div.appendChild(chat_data);

        chatarea.appendChild(chat_div);

        q1input_title.value = "";
        q1input_qdata.value = "";

        chat_div.addEventListener("click", function() {
            question2_div_create(chat_title.innerText, chat_data.innerText,this);
        });
        let chat_obj = {
            title_in_storage:chat_title.innerText,
            chat_data_in_storage:chat_data.innerText,
            id_current_storage: chat_div.id,
            responses:[]
        }
        chat_storage_array.push(chat_obj);

        localStorage.setItem("chat_local_storage",JSON.stringify(chat_storage_array)) ;
        //chat_div.setAttribute("onclick","getChatId(this)") ;
    });
}

function question2_div_create(titleText, dataText,x) {
    rightpane.innerHTML = "";

    let q2heading = document.createElement("h3");
    q2heading.innerText = "Question";
    let q2displaybox = document.createElement("div");
    let q2ques_title = document.createElement("p");
    q2ques_title.style.backgroundColor ="antiquewhite";
    q2ques_title.innerText = titleText;
    let q2ques_data = document.createElement("p");
    q2ques_data.innerText = dataText;
    q2ques_data.style.backgroundColor ="grey" ;

    let q2button = document.createElement("button");
    q2button.setAttribute("class", "button-33");
    q2button.innerText = "Resolve";

    let solutionarea =document.createElement("div") ;
    solutionarea.id = "solutionarea" ;

    let Response = document.createElement("h4");
    Response.innerText = "Response";
    let addResponse = document.createElement("h3");
    addResponse.innerText = "Add response here : ";
    let addResponsetitlebox = document.createElement("textarea");
    addResponsetitlebox.innerText = "Add response here : ";
    let addResponsedatabox = document.createElement("textarea");
    addResponsedatabox.innerText = "Add response here : ";
    addResponsedatabox.display = "block"; 
    let addResponse_button = document.createElement("button") ;
    addResponse.innerText = "Add" ;
    addResponse.className = "button-33" ;
    q2button.addEventListener("click", function() {
        x.remove();
        chat_storage_array = chat_storage_array.filter(chat => chat.id_current_storage !== x.id);
        localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
        question1_div_create() ;
    });

    solutionarea.appendChild(q2heading);
    solutionarea.appendChild(q2ques_title);
    solutionarea.appendChild(q2ques_data);
    solutionarea.appendChild(q2button);

    q2displaybox.appendChild(solutionarea) ;
    
    q2displaybox.appendChild(Response);
    q2displaybox.appendChild(addResponse);
    q2displaybox.appendChild(addResponsetitlebox);
    q2displaybox.appendChild(addResponsedatabox);
    q2displaybox.appendChild(addResponse_button);
    
    //Add responses : : : : : : : : : : : : : : : : : : : :
    addResponse.addEventListener("click",function(){
        let particular_response = document.createElement("div") ;
        particular_response.className = "chatn" ;

        let particular_response_title = document.createElement("h2") ;
        let particular_response_data = document.createElement("p") ;

        particular_response_title.innerText = addResponsetitlebox.value;
        particular_response_data.innerText = addResponsedatabox.value;

        particular_response.appendChild(particular_response_title) ;
        particular_response.appendChild(particular_response_data) ;

        solutionarea.appendChild(particular_response); 

        //Storing response in local storage :
        let response_obj = {
            title:addResponsetitlebox.value,
            data:addResponsedatabox.value
        };


        //here : 
        chat_storage_array[current_index].responses.push(response_obj) ;
        localStorage.setItem("chat_local_storage",JSON.stringify(chat_storage_array)) ;
    });

    rightpane.appendChild(q2displaybox);
}



window.onload = question1_div_create ;

//submitQuesButton.addEventListener("click", question1_div_create);
//     function getChatId(e)
// {
//     console.log(e.id)
// }



//last good


let lrparent = document.querySelector(".lrparent");
let chatarea = document.querySelector(".chatarea");

let title = document.getElementById("title");
let question = document.getElementById("question");
let submitQuesButton = document.getElementById("submitquestion");
let rightpane = document.querySelector(".rightpane");
var idtoberesolved ;
let chat_storage_array =[] ;
let dislikes = 0,likes = 0, net_like=0;


// ///////////////////////////////////////////////////////////////////
function question1_div_create() {
    rightpane.innerHTML = "";

    let q1title = document.createElement("h2");
    q1title.innerText = "Enter your query here : ";
    let q1input_title = document.createElement("textarea");
    q1input_title.placeholder = "Title here : "
    q1input_title.setAttribute("class", "pretty-textarea");
    let q1input_qdata = document.createElement("textarea");
    q1input_qdata.setAttribute("class", "pretty-textarea");
    q1input_qdata.placeholder = "My question is..............?" ;
    q1input_qdata.style.display = "block ";
    let q1button = document.createElement("button");
    q1button.setAttribute("class", "button-33");
    q1button.innerText = "Submit";

    rightpane.appendChild(q1title);
    rightpane.appendChild(q1input_title);
    rightpane.appendChild(q1input_qdata);
    rightpane.appendChild(q1button);

    q1button.addEventListener("click", function() {
        let chat_div = document.createElement("div");
        chat_div.setAttribute("id", Date.now().toString());
        chat_div.setAttribute("class","chatn") ;

        let chat_title = document.createElement("h3");
        let chat_data = document.createElement("p");
        chat_title.innerText = q1input_title.value;
        chat_data.innerText = q1input_qdata.value;
        let q1favbutton = document.createElement("img");
        q1favbutton.setAttribute("src", "atom.png");    
        q1favbutton.setAttribute("class", "fav");    

        chat_div.appendChild(chat_title);
        chat_div.appendChild(chat_data);
        chat_div.appendChild(q1favbutton);

        chatarea.prepend(chat_div);

        q1input_title.value = "";
        q1input_qdata.value = "";

        chat_div.addEventListener("click", function() {
            question2_div_create(chat_title.innerText, chat_data.innerText,this);
        });

        q1favbutton.addEventListener("click",function(){
            console.log(this.src);
            if(this.src=="http://127.0.0.1:5500/cq%20docs/Discussion%20Portal/atom.png")
            {
                chat_div.remove();
                chatarea.prepend(chat_div) ;
                this.src = "pinwheel.png" ;
            }
            else if(this.src=="http://127.0.0.1:5500/cq%20docs/Discussion%20Portal/pinwheel.png"){
                chat_div.remove();
                chatarea.append(chat_div) ;
                this.src = "atom.png"; 
            }
        });

        let chat_obj = {
            title_in_storage:chat_title.innerText,
            chat_data_in_storage:chat_data.innerText,
            id_current_storage: chat_div.id,
            responses:[]
        }
        chat_storage_array.push(chat_obj);

        localStorage.setItem("chat_local_storage",JSON.stringify(chat_storage_array)) ;
        //chat_div.setAttribute("onclick","getChatId(this)") ;
    });
}

function getChatIndexById(chatId) {
    return chat_storage_array.findIndex(chat => chat.id_current_storage === chatId);
}

function question2_div_create(titleText, dataText, x) {
    rightpane.innerHTML = "";

    let q2heading = document.createElement("h3");
    q2heading.innerText = "Question";
    let q2displaybox = document.createElement("div");
    let q2ques_title = document.createElement("p");
    q2ques_title.style.backgroundColor ="antiquewhite";
    q2ques_title.innerText = titleText;
    let q2ques_data = document.createElement("p");
    q2ques_data.innerText = dataText;
    q2ques_data.style.backgroundColor ="grey" ;

    let q2button = document.createElement("button");
    q2button.setAttribute("class", "button-33");
    q2button.innerText = "Resolve";

    let solutionarea = document.createElement("div");
    solutionarea.id = "solutionarea";

    let Response = document.createElement("h4");
    Response.innerText = "Response";
    let addResponse = document.createElement("h3");
    addResponse.innerText = "Add response here : ";
    let addResponsetitlebox = document.createElement("textarea");
    addResponsetitlebox.innerText = "Add response here : ";
    let addResponsedatabox = document.createElement("textarea");
    addResponsedatabox.innerText = "Add response here : ";
    addResponsedatabox.style.display = "block";
    let addResponse_button = document.createElement("button");
    addResponse_button.innerText = "Add";
    addResponse_button.className = "button-33";

    q2button.addEventListener("click", function() {
        x.remove();
        chat_storage_array = chat_storage_array.filter(chat => chat.id_current_storage !== x.id);
        localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
        question1_div_create();
    });

    solutionarea.appendChild(q2heading);
    solutionarea.appendChild(q2ques_title);
    solutionarea.appendChild(q2ques_data);
    solutionarea.appendChild(q2button);

    q2displaybox.appendChild(solutionarea);

    q2displaybox.appendChild(Response);
    q2displaybox.appendChild(addResponse);
    q2displaybox.appendChild(addResponsetitlebox);
    q2displaybox.appendChild(addResponsedatabox);
    q2displaybox.appendChild(addResponse_button);

    // Add responses
    addResponse_button.addEventListener("click", function() {
        let particular_response = document.createElement("div");
        particular_response.className = "chatn";

        let particular_response_title = document.createElement("h2");
        let particular_response_data = document.createElement("p");
        //like dislike buttons......
        let like_button = document.createElement("img") ;
        like_button.setAttribute("src","like.png") ;
        like_button.setAttribute("class","fav") ;
        let like_count = document.createElement("p");

        let dislike_button = document.createElement("img") ;
        dislike_button.setAttribute("src","dislike.png") ;
        dislike_button.setAttribute("class","fav") ;
        let dislike_count = document.createElement("p");

        particular_response_title.innerText = addResponsetitlebox.value;
        particular_response_data.innerText = addResponsedatabox.value;

        //Creating the response divs
        particular_response.appendChild(particular_response_title);
        particular_response.appendChild(particular_response_data);
        particular_response.appendChild(like_button);
        particular_response.appendChild(like_count);
        like_count.innerText=likes;
        particular_response.appendChild(dislike_button);
        particular_response.appendChild(dislike_count);
        dislike_count.innerText=likes;


        //updating likes and dislikes
        like_button.addEventListener("click",function(){
            likes++;
            like_count.innerText=likes;
        });
        dislike_button.addEventListener("click",function(){
            dislikes++;
            dislike_count.innerText=dislikes;
        });

        solutionarea.appendChild(particular_response);

        // Storing response in local storage:
        let response_obj = {
            title: addResponsetitlebox.value,
            data: addResponsedatabox.value,
            like_storage : likes,
            dislike_storage : dislikes
        };
        likes=0;
        dislikes = 0;

        // Get the current index of the chat object
        let current_index = getChatIndexById(x.id);
        if (current_index !== -1) {
            chat_storage_array[current_index].responses.push(response_obj);
            localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
        }
    });

    rightpane.appendChild(q2displaybox);
}


window.onload = question1_div_create ;

//submitQuesButton.addEventListener("click", question1_div_create);
//     function getChatId(e)
// {
//     console.log(e.id)
// }























let lrparent = document.querySelector(".lrparent");
let chatarea = document.querySelector(".chatarea");

let title = document.getElementById("title");
let question = document.getElementById("question");
let submitQuesButton = document.getElementById("submitquestion");
let rightpane = document.querySelector(".rightpane");
var idtoberesolved ;
let chat_storage_array =[] ;
let dislikes = 0,likes = 0, net_like=0;
let response_obj={};


// ///////////////////////////////////////////////////////////////////
function question1_div_create() {
    rightpane.innerHTML = "";

    let q1title = document.createElement("h2");
    q1title.innerText = "Enter your query here : ";
    let q1input_title = document.createElement("textarea");
    q1input_title.placeholder = "Title here : "
    q1input_title.setAttribute("class", "pretty-textarea");
    let q1input_qdata = document.createElement("textarea");
    q1input_qdata.setAttribute("class", "pretty-textarea");
    q1input_qdata.placeholder = "My question is..............?" ;
    q1input_qdata.style.display = "block ";
    let q1button = document.createElement("button");
    q1button.setAttribute("class", "button-33");
    q1button.innerText = "Submit";

    rightpane.appendChild(q1title);
    rightpane.appendChild(q1input_title);
    rightpane.appendChild(q1input_qdata);
    rightpane.appendChild(q1button);

    q1button.addEventListener("click", function() {
        let chat_div = document.createElement("div");
        chat_div.setAttribute("id", Date.now().toString());
        chat_div.setAttribute("class","chatn") ;

        let chat_title = document.createElement("h3");
        let chat_data = document.createElement("p");
        chat_title.innerText = q1input_title.value;
        chat_data.innerText = q1input_qdata.value;
        let q1favbutton = document.createElement("img");
        q1favbutton.setAttribute("src", "atom.png");    
        q1favbutton.setAttribute("class", "fav");    

        chat_div.appendChild(chat_title);
        chat_div.appendChild(chat_data);
        chat_div.appendChild(q1favbutton);

        chatarea.prepend(chat_div);

        q1input_title.value = "";
        q1input_qdata.value = "";

        chat_div.addEventListener("click", function() {
            question2_div_create(chat_title.innerText, chat_data.innerText,this);
        });

        q1favbutton.addEventListener("click",function(){
            console.log(this.src);
            if(this.src=="http://127.0.0.1:5500/cq%20docs/Discussion%20Portal/atom.png")
            {
                chat_div.remove();
                chatarea.prepend(chat_div) ;
                this.src = "pinwheel.png" ;
            }
            else if(this.src=="http://127.0.0.1:5500/cq%20docs/Discussion%20Portal/pinwheel.png"){
                chat_div.remove();
                chatarea.append(chat_div) ;
                this.src = "atom.png"; 
            }
        });

        let chat_obj = {
            title_in_storage:chat_title.innerText,
            chat_data_in_storage:chat_data.innerText,
            id_current_storage: chat_div.id,
            responses:[]
        }
        chat_storage_array.push(chat_obj);

        localStorage.setItem("chat_local_storage",JSON.stringify(chat_storage_array)) ;
        //chat_div.setAttribute("onclick","getChatId(this)") ;
    });
}

function getChatIndexById(chatId) {
    return chat_storage_array.findIndex(chat => chat.id_current_storage === chatId);
}

function question2_div_create(titleText, dataText, x) {
    rightpane.innerHTML = "";

    let q2heading = document.createElement("h3");
    q2heading.innerText = "Question";
    let q2displaybox = document.createElement("div");
    let q2ques_title = document.createElement("p");
    q2ques_title.style.backgroundColor ="antiquewhite";
    q2ques_title.innerText = titleText;
    let q2ques_data = document.createElement("p");
    q2ques_data.innerText = dataText;
    q2ques_data.style.backgroundColor ="grey" ;

    let q2button = document.createElement("button");
    q2button.setAttribute("class", "button-33");
    q2button.innerText = "Resolve";

    let solutionarea = document.createElement("div");
    solutionarea.id = "solutionarea";

    let Response = document.createElement("h4");
    Response.innerText = "Response";
    let addResponse = document.createElement("h3");
    addResponse.innerText = "Add response here : ";
    let addResponsetitlebox = document.createElement("textarea");
    addResponsetitlebox.innerText = "Add response here : ";
    let addResponsedatabox = document.createElement("textarea");
    addResponsedatabox.innerText = "Add response here : ";
    addResponsedatabox.style.display = "block";
    let addResponse_button = document.createElement("button");
    addResponse_button.innerText = "Add";
    addResponse_button.className = "button-33";

    q2button.addEventListener("click", function() {
        x.remove();
        chat_storage_array = chat_storage_array.filter(chat => chat.id_current_storage !== x.id);
        localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
        question1_div_create();
    });

    solutionarea.appendChild(q2heading);
    solutionarea.appendChild(q2ques_title);
    solutionarea.appendChild(q2ques_data);
    solutionarea.appendChild(q2button);

    q2displaybox.appendChild(solutionarea);

    q2displaybox.appendChild(Response);
    q2displaybox.appendChild(addResponse);
    q2displaybox.appendChild(addResponsetitlebox);
    q2displaybox.appendChild(addResponsedatabox);
    q2displaybox.appendChild(addResponse_button);

    // Add responses
    addResponse_button.addEventListener("click", function() {
        let particular_response = document.createElement("div");
        particular_response.className = "chatn";

        let particular_response_title = document.createElement("h2");
        let particular_response_data = document.createElement("p");
        //like dislike buttons......
        let like_button = document.createElement("img") ;
        like_button.setAttribute("src","like.png") ;
        like_button.setAttribute("class","fav") ;
        let like_count_para = document.createElement("p");

        let dislike_button = document.createElement("img") ;
        dislike_button.setAttribute("src","dislike.png") ;
        dislike_button.setAttribute("class","fav") ;
        let dislike_count_para = document.createElement("p");

        particular_response_title.innerText = addResponsetitlebox.value;
        particular_response_data.innerText = addResponsedatabox.value;

        //Creating the response div
        particular_response.appendChild(particular_response_title);
        particular_response.appendChild(particular_response_data);
        particular_response.appendChild(like_button);
        particular_response.appendChild(like_count_para);
        particular_response.appendChild(dislike_button);
        particular_response.appendChild(dislike_count_para);
        
        //updating likes and dislikes
        like_button.addEventListener("click",function(){
            likes = response_obj.like_storage+1;
            like_count_para.innerText = likes;
        });
        response_obj = {
            title: addResponsetitlebox.value,
            data: addResponsedatabox.value,
            like_storage : likes,
            dislike_storage : dislikes
        };
        likes = 0;


        solutionarea.appendChild(particular_response);

        // Storing response in local storage:


        // Get the current index of the chat object
        let current_index = getChatIndexById(x.id);
        if (current_index !== -1) {
            chat_storage_array[current_index].responses.push(response_obj);
            localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
        }
    });

    rightpane.appendChild(q2displaybox);
}


window.onload = question1_div_create ;

//submitQuesButton.addEventListener("click", question1_div_create);
//     function getChatId(e)
// {
//     console.log(e.id)
// }


last best 



let lrparent = document.querySelector(".lrparent");
let chatarea = document.querySelector(".chatarea");

let title = document.getElementById("title");
let question = document.getElementById("question");
let submitQuesButton = document.getElementById("submitquestion");
let rightpane = document.querySelector(".rightpane");
var idtoberesolved ;
let chat_storage_array =[] ;
let dislikes = 0,likes = 0, net_like=0;
let response_obj={};


// ///////////////////////////////////////////////////////////////////
function question1_div_create() {
    rightpane.innerHTML = "";

    let q1title = document.createElement("h2");
    q1title.innerText = "Enter your query here : ";
    let q1input_title = document.createElement("textarea");
    q1input_title.placeholder = "Title here : "
    q1input_title.setAttribute("class", "pretty-textarea");
    let q1input_qdata = document.createElement("textarea");
    q1input_qdata.setAttribute("class", "pretty-textarea");
    q1input_qdata.placeholder = "My question is..............?" ;
    q1input_qdata.style.display = "block ";
    let q1button = document.createElement("button");
    q1button.setAttribute("class", "button-33");
    q1button.innerText = "Submit";

    rightpane.appendChild(q1title);
    rightpane.appendChild(q1input_title);
    rightpane.appendChild(q1input_qdata);
    rightpane.appendChild(q1button);

    q1button.addEventListener("click", function() {
        let chat_div = document.createElement("div");
        chat_div.setAttribute("id", Date.now().toString());
        chat_div.setAttribute("class","chatn") ;

        let chat_title = document.createElement("h3");
        let chat_data = document.createElement("p");
        chat_title.innerText = q1input_title.value;
        chat_data.innerText = q1input_qdata.value;
        let q1favbutton = document.createElement("img");
        q1favbutton.setAttribute("src", "atom.png");    
        q1favbutton.setAttribute("class", "fav");    

        chat_div.appendChild(chat_title);
        chat_div.appendChild(chat_data);
        chat_div.appendChild(q1favbutton);

        chatarea.prepend(chat_div);

        q1input_title.value = "";
        q1input_qdata.value = "";

        chat_div.addEventListener("click", function() {
            question2_div_create(chat_title.innerText, chat_data.innerText,this);
        });

        q1favbutton.addEventListener("click",function(){
            console.log(this.src);
            if(this.src=="http://127.0.0.1:5500/cq%20docs/Discussion%20Portal/atom.png")
            {
                chat_div.remove();
                chatarea.prepend(chat_div) ;
                this.src = "pinwheel.png" ;
            }
            else if(this.src=="http://127.0.0.1:5500/cq%20docs/Discussion%20Portal/pinwheel.png"){
                chat_div.remove();
                chatarea.append(chat_div) ;
                this.src = "atom.png"; 
            }
        });

        let chat_obj = {
            title_in_storage:chat_title.innerText,
            chat_data_in_storage:chat_data.innerText,
            id_current_storage: chat_div.id,
            responses:[]
        }
        chat_storage_array.push(chat_obj);

        localStorage.setItem("chat_local_storage",JSON.stringify(chat_storage_array)) ;
        //chat_div.setAttribute("onclick","getChatId(this)") ;
    });
}

function getChatIndexById(chatId) {
    return chat_storage_array.findIndex(chat => chat.id_current_storage === chatId);
}

function question2_div_create(titleText, dataText, x) {
    rightpane.innerHTML = "";

    let q2heading = document.createElement("h3");
    q2heading.innerText = "Question";
    let q2displaybox = document.createElement("div");
    let q2ques_title = document.createElement("p");
    q2ques_title.style.backgroundColor ="antiquewhite";
    q2ques_title.innerText = titleText;
    let q2ques_data = document.createElement("p");
    q2ques_data.innerText = dataText;
    q2ques_data.style.backgroundColor ="grey" ;

    let q2button = document.createElement("button");
    q2button.setAttribute("class", "button-33");
    q2button.innerText = "Resolve";

    let solutionarea = document.createElement("div");
    solutionarea.id = "solutionarea";

    let Response = document.createElement("h4");
    Response.innerText = "Response";
    let addResponse = document.createElement("h3");
    addResponse.innerText = "Add response here : ";
    let addResponsetitlebox = document.createElement("textarea");
    addResponsetitlebox.innerText = "Add response here : ";
    let addResponsedatabox = document.createElement("textarea");
    addResponsedatabox.innerText = "Add response here : ";
    addResponsedatabox.style.display = "block";
    let addResponse_button = document.createElement("button");
    addResponse_button.innerText = "Add";
    addResponse_button.className = "button-33";

    q2button.addEventListener("click", function() {
        x.remove();
        chat_storage_array = chat_storage_array.filter(chat => chat.id_current_storage !== x.id);
        localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
        question1_div_create();
    });

    solutionarea.appendChild(q2heading);
    solutionarea.appendChild(q2ques_title);
    solutionarea.appendChild(q2ques_data);
    solutionarea.appendChild(q2button);

    q2displaybox.appendChild(solutionarea);

    q2displaybox.appendChild(Response);
    q2displaybox.appendChild(addResponse);
    q2displaybox.appendChild(addResponsetitlebox);
    q2displaybox.appendChild(addResponsedatabox);
    q2displaybox.appendChild(addResponse_button);

    // Add responses
    addResponse_button.addEventListener("click", function() {
        let particular_response = document.createElement("div");
        particular_response.className = "chatn";

        let particular_response_title = document.createElement("h2");
        let particular_response_data = document.createElement("p");
        //like dislike buttons......
        let like_button = document.createElement("img") ;
        like_button.setAttribute("src","like.png") ;
        like_button.setAttribute("class","fav") ;
        let like_count_para = document.createElement("p");

        let dislike_button = document.createElement("img") ;
        dislike_button.setAttribute("src","dislike.png") ;
        dislike_button.setAttribute("class","fav") ;
        let dislike_count_para = document.createElement("p");

        particular_response_title.innerText = addResponsetitlebox.value;
        particular_response_data.innerText = addResponsedatabox.value;

        //Creating the response div
        particular_response.appendChild(particular_response_title);
        particular_response.appendChild(particular_response_data);
        particular_response.appendChild(like_button);
        particular_response.appendChild(like_count_para);
        like_count_para.innerText = 0 ;
        particular_response.appendChild(dislike_button);
        particular_response.appendChild(dislike_count_para);
        dislike_count_para.innerText = 0 ;

        response_obj.like_storage =0;
        like_button.addEventListener("click",function(){
            
            like_count_para.innerText = response_obj.like_storage +=1 ;
        });
        //updating likes and dislikes
        response_obj = {
            title: addResponsetitlebox.value,
            data: addResponsedatabox.value,
            like_storage : likes,
            dislike_storage : dislikes
        };

        solutionarea.appendChild(particular_response);

        // Get the current index of the chat object
        let current_index = getChatIndexById(x.id);
        if (current_index !== -1) {
            chat_storage_array[current_index].responses.push(response_obj);
            localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
        }
    });

    rightpane.appendChild(q2displaybox);
}


window.onload = question1_div_create ;

//submitQuesButton.addEventListener("click", question1_div_create);
//     function getChatId(e)
// {
//     console.log(e.id)
// }







lasthai



let lrparent = document.querySelector(".lrparent");
let chatarea = document.querySelector(".chatarea");

let title = document.getElementById("title");
let question = document.getElementById("question");
let submitQuesButton = document.getElementById("submitquestion");
let rightpane = document.querySelector(".rightpane");
let chat_storage_array = [];

// /// ////////////////////////////////////////////////////////////////
function question1_div_create() {
    rightpane.innerHTML = "";

    let q1title = document.createElement("h2");
    q1title.innerText = "Enter your query here : ";
    let q1input_title = document.createElement("textarea");
    q1input_title.placeholder = "Title here : ";
    q1input_title.setAttribute("class", "pretty-textarea");
    let q1input_qdata = document.createElement("textarea");
    q1input_qdata.setAttribute("class", "pretty-textarea");
    q1input_qdata.placeholder = "My question is..............?";
    q1input_qdata.style.display = "block";
    let q1button = document.createElement("button");
    q1button.setAttribute("class", "button-33");
    q1button.innerText = "Submit";

    rightpane.appendChild(q1title);
    rightpane.appendChild(q1input_title);
    rightpane.appendChild(q1input_qdata);
    rightpane.appendChild(q1button);

    q1button.addEventListener("click", function() {
        let chat_div = document.createElement("div");
        chat_div.setAttribute("id", Date.now().toString());
        chat_div.setAttribute("class", "chatn");

        let chat_title = document.createElement("h3");
        let chat_data = document.createElement("p");
        chat_title.innerText = q1input_title.value;
        chat_data.innerText = q1input_qdata.value;
        let q1favbutton = document.createElement("img");
        q1favbutton.setAttribute("src", "atom.png");
        q1favbutton.setAttribute("class", "fav");

        chat_div.appendChild(chat_title);
        chat_div.appendChild(chat_data);
        chat_div.appendChild(q1favbutton);

        chatarea.prepend(chat_div);

        q1input_title.value = "";
        q1input_qdata.value = "";

        chat_div.addEventListener("click", function() {
            question2_div_create(chat_title.innerText, chat_data.innerText, this);
        });

        q1favbutton.addEventListener("click", function() {
            console.log(this.src);
            if (this.src == "http://127.0.0.1:5500/cq%20docs/Discussion%20Portal/atom.png") {
                chat_div.remove();
                chatarea.prepend(chat_div);
                this.src = "pinwheel.png";
            } else if (this.src == "http://127.0.0.1:5500/cq%20docs/Discussion%20Portal/pinwheel.png") {
                chat_div.remove();
                chatarea.append(chat_div);
                this.src = "atom.png";
            }
        });

        let chat_obj = {
            title_in_storage: chat_title.innerText,
            chat_data_in_storage: chat_data.innerText,
            id_current_storage: chat_div.id,
            responses: []
        }
        chat_storage_array.push(chat_obj);

        localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
    });
}

function getChatIndexById(chatId) {
    return chat_storage_array.findIndex(chat => chat.id_current_storage === chatId);
}

function question2_div_create(titleText, dataText, x) {
    rightpane.innerHTML = "";

    let q2heading = document.createElement("h3");
    q2heading.innerText = "Question";
    let q2displaybox = document.createElement("div");
    let q2ques_title = document.createElement("p");
    q2ques_title.style.backgroundColor = "antiquewhite";
    q2ques_title.innerText = titleText;
    let q2ques_data = document.createElement("p");
    q2ques_data.innerText = dataText;
    q2ques_data.style.backgroundColor = "grey";

    let q2button = document.createElement("button");
    q2button.setAttribute("class", "button-33");
    q2button.innerText = "Resolve";

    let solutionarea = document.createElement("div");
    solutionarea.id = "solutionarea";

    let Response = document.createElement("h4");
    Response.innerText = "Response";
    let addResponse = document.createElement("h3");
    addResponse.innerText = "Add response here : ";
    let addResponsetitlebox = document.createElement("textarea");
    addResponsetitlebox.innerText = "Add response here : ";
    let addResponsedatabox = document.createElement("textarea");
    addResponsedatabox.innerText = "Add response here : ";
    addResponsedatabox.style.display = "block";
    let addResponse_button = document.createElement("button");
    addResponse_button.innerText = "Add";
    addResponse_button.className = "button-33";

    q2button.addEventListener("click", function() {
        x.remove();
        chat_storage_array = chat_storage_array.filter(chat => chat.id_current_storage !== x.id);
        localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
        question1_div_create();
    });

    solutionarea.appendChild(q2heading);
    solutionarea.appendChild(q2ques_title);
    solutionarea.appendChild(q2ques_data);
    solutionarea.appendChild(q2button);

    q2displaybox.appendChild(solutionarea);

    q2displaybox.appendChild(Response);
    q2displaybox.appendChild(addResponse);
    q2displaybox.appendChild(addResponsetitlebox);
    q2displaybox.appendChild(addResponsedatabox);
    q2displaybox.appendChild(addResponse_button);

    // Add responses
    addResponse_button.addEventListener("click", function() {
        let particular_response = document.createElement("div");
        particular_response.className = "chatn";

        let particular_response_title = document.createElement("h2");
        let particular_response_data = document.createElement("p");

        // Like dislike buttons......
        let like_button = document.createElement("img");
        like_button.setAttribute("src", "like.png");
        like_button.setAttribute("class", "fav");
        let like_count_para = document.createElement("p");

        let dislike_button = document.createElement("img");
        dislike_button.setAttribute("src", "dislike.png");
        dislike_button.setAttribute("class", "fav");
        let dislike_count_para = document.createElement("p");

        particular_response_title.innerText = addResponsetitlebox.value;
        particular_response_data.innerText = addResponsedatabox.value;

        // Creating the response div
        particular_response.appendChild(particular_response_title);
        particular_response.appendChild(particular_response_data);
        particular_response.appendChild(like_button);
        like_count_para.innerText = 0;
        particular_response.appendChild(like_count_para);
        particular_response.appendChild(dislike_button);
        dislike_count_para.innerText = 0;
        particular_response.appendChild(dislike_count_para);

        // Storing the response in local storage
        let response_obj = {
            title: addResponsetitlebox.value,
            data: addResponsedatabox.value,
            like_storage: 0,
            dislike_storage: 0
        };

        // Get the current index of the chat object
        let current_index = getChatIndexById(x.id);
        if (current_index !== -1) {
            chat_storage_array[current_index].responses.push(response_obj);
            localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
        }

        // Add event listeners to the like and dislike buttons
        like_button.addEventListener("click", function() {
            response_obj.like_storage++;
            like_count_para.innerText = response_obj.like_storage;
            particular_reponse_updates(x.id, response_obj.title, response_obj.data, response_obj.like_storage, response_obj.dislike_storage);
        });

        dislike_button.addEventListener("click", function() {
            response_obj.dislike_storage++;
            dislike_count_para.innerText = response_obj.dislike_storage;
            particular_reponse_updates(x.id, response_obj.title, response_obj.data, response_obj.like_storage, response_obj.dislike_storage);
        });

        solutionarea.appendChild(particular_response);
    });

    rightpane.appendChild(q2displaybox);
}

function particular_reponse_updates(chatId, responseTitle, responseData, likes, dislikes) {
    let current_index = getChatIndexById(chatId);
    if (current_index !== -1) {
        let response_index = chat_storage_array[current_index].responses.findIndex(response => response.title === responseTitle && response.data === responseData);
        if (response_index !== -1) {
            chat_storage_array[current_index].responses[response_index].like_storage = likes;
            chat_storage_array[current_index].responses[response_index].dislike_storage = dislikes;
            localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
        }
    }
}


window.onload = question1_div_create;

























































let lrparent = document.querySelector(".lrparent");
let chatarea = document.querySelector(".chatarea");

let title = document.getElementById("title");
let question = document.getElementById("question");
let submitQuesButton = document.getElementById("submitquestion");
let rightpane = document.querySelector(".rightpane");
var idtoberesolved;
let chat_storage_array = [];
let dislikes = 0, likes = 0, net_like = 0;
let response_obj = {};

// Load data from local storage on page load
window.onload = function() {
    loadChatsFromLocalStorage();
    question1_div_create();
};

function loadChatsFromLocalStorage() {
    let storedChats = JSON.parse(localStorage.getItem("chat_local_storage"));
    if (storedChats) {
        chat_storage_array = storedChats;

        chat_storage_array.forEach(chat => {
            let chat_div = document.createElement("div");
            chat_div.setAttribute("id", chat.id_current_storage);
            chat_div.setAttribute("class", "chatn");

            let chat_title = document.createElement("h3");
            let chat_data = document.createElement("p");
            chat_title.innerText = chat.title_in_storage;
            chat_data.innerText = chat.chat_data_in_storage;
            let q1favbutton = document.createElement("img");
            q1favbutton.setAttribute("src", "atom.png");
            q1favbutton.setAttribute("class", "fav");

            chat_div.appendChild(chat_title);
            chat_div.appendChild(chat_data);
            chat_div.appendChild(q1favbutton);

            chatarea.prepend(chat_div);

            chat_div.addEventListener("click", function() {
                question2_div_create(chat_title.innerText, chat_data.innerText, this);
            });

            q1favbutton.addEventListener("click", function() {
                if (this.src == "http://127.0.0.1:5500/cq%20docs/Discussion%20Portal/atom.png") {
                    chat_div.remove();
                    chatarea.prepend(chat_div);
                    this.src = "pinwheel.png";
                } else if (this.src == "http://127.0.0.1:5500/cq%20docs/Discussion%20Portal/pinwheel.png") {
                    chat_div.remove();
                    chatarea.append(chat_div);
                    this.src = "atom.png";
                }
            });
        });
    }
}

function question1_div_create() {
    rightpane.innerHTML = "";

    let q1title = document.createElement("h2");
    q1title.innerText = "Enter your query here : ";
    let q1input_title = document.createElement("textarea");
    q1input_title.placeholder = "Title here : ";
    q1input_title.setAttribute("class", "pretty-textarea");
    let q1input_qdata = document.createElement("textarea");
    q1input_qdata.setAttribute("class", "pretty-textarea");
    q1input_qdata.placeholder = "My question is..............?";
    q1input_qdata.style.display = "block ";
    let q1button = document.createElement("button");
    q1button.setAttribute("class", "button-33");
    q1button.innerText = "Submit";

    rightpane.appendChild(q1title);
    rightpane.appendChild(q1input_title);
    rightpane.appendChild(q1input_qdata);
    rightpane.appendChild(q1button);

    q1button.addEventListener("click", function() {
        let chat_div = document.createElement("div");
        chat_div.setAttribute("id", Date.now().toString());
        chat_div.setAttribute("class", "chatn");

        let chat_title = document.createElement("h3");
        let chat_data = document.createElement("p");
        chat_title.innerText = q1input_title.value;
        chat_data.innerText = q1input_qdata.value;
        let q1favbutton = document.createElement("img");
        q1favbutton.setAttribute("src", "atom.png");
        q1favbutton.setAttribute("class", "fav");

        chat_div.appendChild(chat_title);
        chat_div.appendChild(chat_data);
        chat_div.appendChild(q1favbutton);

        chatarea.prepend(chat_div);

        q1input_title.value = "";
        q1input_qdata.value = "";

        chat_div.addEventListener("click", function() {
            question2_div_create(chat_title.innerText, chat_data.innerText, this);
        });

        q1favbutton.addEventListener("click", function() {
            if (this.src == "http://127.0.0.1:5500/cq%20docs/Discussion%20Portal/atom.png") {
                chat_div.remove();
                chatarea.prepend(chat_div);
                this.src = "pinwheel.png";
            } else if (this.src == "http://127.0.0.1:5500/cq%20docs/Discussion%20Portal/pinwheel.png") {
                chat_div.remove();
                chatarea.append(chat_div);
                this.src = "atom.png";
            }
        });

        let chat_obj = {
            title_in_storage: chat_title.innerText,
            chat_data_in_storage: chat_data.innerText,
            id_current_storage: chat_div.id,
            responses: []
        }
        chat_storage_array.push(chat_obj);

        localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
    });
}

function getChatIndexById(chatId) {
    return chat_storage_array.findIndex(chat => chat.id_current_storage === chatId);
}

function question2_div_create(titleText, dataText, x) {
    rightpane.innerHTML = "";

    let q2heading = document.createElement("h3");
    q2heading.innerText = "Question";
    let q2displaybox = document.createElement("div");
    let q2ques_title = document.createElement("p");
    q2ques_title.style.backgroundColor = "antiquewhite";
    q2ques_title.innerText = titleText;
    let q2ques_data = document.createElement("p");
    q2ques_data.innerText = dataText;
    q2ques_data.style.backgroundColor = "grey";

    let q2button = document.createElement("button");
    q2button.setAttribute("class", "button-33");
    q2button.innerText = "Resolve";

    let solutionarea = document.createElement("div");
    solutionarea.id = "solutionarea";

    let Response = document.createElement("h4");
    Response.innerText = "Response";
    let addResponse = document.createElement("h3");
    addResponse.innerText = "Add response here : ";
    let addResponsetitlebox = document.createElement("textarea");
    addResponsetitlebox.innerText = "Add response here : ";
    let addResponsedatabox = document.createElement("textarea");
    addResponsedatabox.innerText = "Add response here : ";
    addResponsedatabox.style.display = "block";
    let addResponse_button = document.createElement("button");
    addResponse_button.innerText = "Add";
    addResponse_button.className = "button-33";

    q2button.addEventListener("click", function() {
        x.remove();
        chat_storage_array = chat_storage_array.filter(chat => chat.id_current_storage !== x.id);
        localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
        question1_div_create();
    });

    solutionarea.appendChild(q2heading);
    solutionarea.appendChild(q2ques_title);
    solutionarea.appendChild(q2ques_data);
    solutionarea.appendChild(q2button);

    q2displaybox.appendChild(solutionarea);

    q2displaybox.appendChild(Response);
    q2displaybox.appendChild(addResponse);
    q2displaybox.appendChild(addResponsetitlebox);
    q2displaybox.appendChild(addResponsedatabox);
    q2displaybox.appendChild(addResponse_button);

    // Add responses
    addResponse_button.addEventListener("click", function() {
        let particular_response = document.createElement("div");
        particular_response.className = "chatn";

        let particular_response_title = document.createElement("h2");
        let particular_response_data = document.createElement("p");
        //like dislike buttons......
        let like_button = document.createElement("img");
        like_button.setAttribute("src", "like.png");
        like_button.setAttribute("class", "fav");
        let like_count_para = document.createElement("p");

        let dislike_button = document.createElement("img");
        dislike_button.setAttribute("src", "dislike.png");
        dislike_button.setAttribute("class", "fav");
        let dislike_count_para = document.createElement("p");

        particular_response_title.innerText = addResponsetitlebox.value;
        particular_response_data.innerText = addResponsedatabox.value;

        //Creating the response div
        particular_response.appendChild(particular_response_title);
        particular_response.appendChild(particular_response_data);
        particular_response.appendChild(like_button);
        particular_response.appendChild(like_count_para);
        like_count_para.innerText = 0;
        particular_response.appendChild(dislike_button);
        particular_response.appendChild(dislike_count_para);
        dislike_count_para.innerText = 0;

        response_obj.like_storage = 0;
        like_button.addEventListener("click", function() {
            like_count_para.innerText = response_obj.like_storage += 1;
        });
        //updating likes and dislikes
        response_obj = {
            title: addResponsetitlebox.value,
            data: addResponsedatabox.value,
            like_storage: likes,
            dislike_storage: dislikes
        };

        solutionarea.appendChild(particular_response);

        // Get the current index of the chat object
        let current_index = getChatIndexById(x.id);
        if (current_index !== -1) {
            chat_storage_array[current_index].responses.push(response_obj);
            localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
        }
    });

    rightpane.appendChild(q2displaybox);
}



final personal best : 
let lrparent = document.querySelector(".lrparent");
let chatarea = document.querySelector(".chatarea");

let title = document.getElementById("title");
let question = document.getElementById("question");
let submitQuesButton = document.getElementById("submitquestion");
let rightpane = document.querySelector(".rightpane");

let chat_storage_array = [];
let response_obj = {};

// Create the initial question div
function question1_div_create() {
    rightpane.innerHTML = "";

    let q1title = document.createElement("h2");
    q1title.innerText = "Enter your query here:";
    let q1input_title = document.createElement("textarea");
    q1input_title.placeholder = "Title here:";
    q1input_title.setAttribute("class", "pretty-textarea");
    let q1input_qdata = document.createElement("textarea");
    q1input_qdata.setAttribute("class", "pretty-textarea");
    q1input_qdata.placeholder = "My question is..............?";
    q1input_qdata.style.display = "block";
    let q1button = document.createElement("button");
    q1button.setAttribute("class", "button-33");
    q1button.innerText = "Submit";

    rightpane.appendChild(q1title);
    rightpane.appendChild(q1input_title);
    rightpane.appendChild(q1input_qdata);
    rightpane.appendChild(q1button);

    q1button.addEventListener("click", function() {
        let chat_div = document.createElement("div");
        chat_div.setAttribute("id", Date.now().toString());
        chat_div.setAttribute("class", "chatn");

        let chat_title = document.createElement("h3");
        let chat_data = document.createElement("p");
        chat_title.innerText = q1input_title.value;
        chat_data.innerText = q1input_qdata.value;
        let q1favbutton = document.createElement("img");
        q1favbutton.setAttribute("src", "atom.png");
        q1favbutton.setAttribute("class", "fav");

        chat_div.appendChild(chat_title);
        chat_div.appendChild(chat_data);
        chat_div.appendChild(q1favbutton);

        chatarea.prepend(chat_div);

        q1input_title.value = "";
        q1input_qdata.value = "";

        chat_div.addEventListener("click", function() {
            question2_div_create(chat_title.innerText, chat_data.innerText, this);
        });

        q1favbutton.addEventListener("click", function() {
            if (this.src.includes("atom.png")) {
                chat_div.remove();
                chatarea.prepend(chat_div);
                this.src = "pinwheel.png";
            } else if (this.src.includes("pinwheel.png")) {
                chat_div.remove();
                chatarea.append(chat_div);
                this.src = "atom.png";
            }
        });

        let chat_obj = {
            title_in_storage: chat_title.innerText,
            chat_data_in_storage: chat_data.innerText,
            id_current_storage: chat_div.id,
            responses: []
        };
        chat_storage_array.push(chat_obj);

        localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
    });
}

// Get chat index by ID
function getChatIndexById(chatId) {
    return chat_storage_array.findIndex(chat => chat.id_current_storage === chatId);
}

// Create the second question div with responses
function question2_div_create(titleText, dataText, x) {
    rightpane.innerHTML = "";

    let q2heading = document.createElement("h3");
    q2heading.innerText = "Question";
    let q2displaybox = document.createElement("div");
    let q2ques_title = document.createElement("p");
    q2ques_title.style.backgroundColor = "antiquewhite";
    q2ques_title.innerText = titleText;
    let q2ques_data = document.createElement("p");
    q2ques_data.innerText = dataText;
    q2ques_data.style.backgroundColor = "grey";

    let q2button = document.createElement("button");
    q2button.setAttribute("class", "button-33");
    q2button.innerText = "Resolve";

    let solutionarea = document.createElement("div");
    solutionarea.id = "solutionarea";

    let Response = document.createElement("h4");
    Response.innerText = "Response";
    let addResponse = document.createElement("h3");
    addResponse.innerText = "Add response here:";
    let addResponsetitlebox = document.createElement("textarea");
    addResponsetitlebox.placeholder = "Response title:";
    let addResponsedatabox = document.createElement("textarea");
    addResponsedatabox.placeholder = "Response data:";
    addResponsedatabox.style.display = "block";
    let addResponse_button = document.createElement("button");
    addResponse_button.innerText = "Add";
    addResponse_button.className = "button-33";

    q2button.addEventListener("click", function() {
        x.remove();
        chat_storage_array = chat_storage_array.filter(chat => chat.id_current_storage !== x.id);
        localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
        question1_div_create();
    });

    solutionarea.appendChild(q2heading);
    solutionarea.appendChild(q2ques_title);
    solutionarea.appendChild(q2ques_data);
    solutionarea.appendChild(q2button);

    q2displaybox.appendChild(solutionarea);

    q2displaybox.appendChild(Response);
    q2displaybox.appendChild(addResponse);
    q2displaybox.appendChild(addResponsetitlebox);
    q2displaybox.appendChild(addResponsedatabox);
    q2displaybox.appendChild(addResponse_button);

    // Add responses
    addResponse_button.addEventListener("click", function() {
        let particular_response = document.createElement("div");
        particular_response.className = "chatn";

        let particular_response_title = document.createElement("h2");
        let particular_response_data = document.createElement("p");

        let like_button = document.createElement("img");
        like_button.setAttribute("src", "like.png");
        like_button.setAttribute("class", "fav");
        let like_count_para = document.createElement("p");

        let dislike_button = document.createElement("img");
        dislike_button.setAttribute("src", "dislike.png");
        dislike_button.setAttribute("class", "fav");
        let dislike_count_para = document.createElement("p");

        particular_response_title.innerText = addResponsetitlebox.value;
        particular_response_data.innerText = addResponsedatabox.value;

        particular_response.appendChild(particular_response_title);
        particular_response.appendChild(particular_response_data);
        particular_response.appendChild(like_button);
        particular_response.appendChild(like_count_para);
        like_count_para.innerText = 0;
        particular_response.appendChild(dislike_button);
        particular_response.appendChild(dislike_count_para);
        dislike_count_para.innerText = 0;

        let response_obj = {
            title: addResponsetitlebox.value,
            data: addResponsedatabox.value,
            like_storage: 0,
            dislike_storage: 0
        };

        like_button.addEventListener("click", function() {
            response_obj.like_storage++;
            like_count_para.innerText = response_obj.like_storage;
            updateResponsesAndStore(x.id);
        });

        dislike_button.addEventListener("click", function() {
            response_obj.dislike_storage++;
            dislike_count_para.innerText = response_obj.dislike_storage;
            updateResponsesAndStore(x.id);
        });

        solutionarea.appendChild(particular_response);

        // Get the current index of the chat object
        let current_index = getChatIndexById(x.id);
        if (current_index !== -1) {
            chat_storage_array[current_index].responses.push(response_obj);
            updateResponsesAndStore(x.id);
        }
    });

    rightpane.appendChild(q2displaybox);

    // Load existing responses
    loadResponses(x.id);
}

// Update responses in storage and sort them
function updateResponsesAndStore(chatId) {
    let current_index = getChatIndexById(chatId);
    if (current_index !== -1) {
        chat_storage_array[current_index].responses.sort((a, b) => (b.like_storage - b.dislike_storage) - (a.like_storage - a.dislike_storage));
        localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
        loadResponses(chatId);
    }
}

// Load responses from storage and display them
function loadResponses(chatId) {
    let current_index = getChatIndexById(chatId);
    if (current_index !== -1) {
        let solutionarea = document.getElementById("solutionarea");
        solutionarea.innerHTML = "";

        chat_storage_array[current_index].responses.forEach(response => {
            let particular_response = document.createElement("div");
            particular_response.className = "chatn";

            let particular_response_title = document.createElement("h2");
            let particular_response_data = document.createElement("p");

            let like_button = document.createElement("img");
            like_button.setAttribute("src", "like.png");
            like_button.setAttribute("class", "fav");
            let like_count_para = document.createElement("p");

            let dislike_button = document.createElement("img");
            dislike_button.setAttribute("src", "dislike.png");
            dislike_button.setAttribute("class", "fav");
            let dislike_count_para = document.createElement("p");

            particular_response_title.innerText = response.title;
            particular_response_data.innerText = response.data;

            particular_response.appendChild(particular_response_title);
            particular_response.appendChild(particular_response_data);
            particular_response.appendChild(like_button);
            particular_response.appendChild(like_count_para);
            like_count_para.innerText = response.like_storage;
            particular_response.appendChild(dislike_button);
            particular_response.appendChild(dislike_count_para);
            dislike_count_para.innerText = response.dislike_storage;

            like_button.addEventListener("click", function() {
                response.like_storage++;
                like_count_para.innerText = response.like_storage;
                updateResponsesAndStore(chatId);
            });

            dislike_button.addEventListener("click", function() {
                response.dislike_storage++;
                dislike_count_para.innerText = response.dislike_storage;
                updateResponsesAndStore(chatId);
            });

            solutionarea.appendChild(particular_response);
        });
    }
}

window.onload = function() {
    // Load chat data from local storage
    let storedChats = localStorage.getItem("chat_local_storage");
    if (storedChats) {
        chat_storage_array = JSON.parse(storedChats);

        // Restore the chats in the chat area
        chat_storage_array.forEach(chat => {
            let chat_div = document.createElement("div");
            chat_div.setAttribute("id", chat.id_current_storage);
            chat_div.setAttribute("class", "chatn");

            let chat_title = document.createElement("h3");
            let chat_data = document.createElement("p");
            chat_title.innerText = chat.title_in_storage;
            chat_data.innerText = chat.chat_data_in_storage;

            let q1favbutton = document.createElement("img");
            q1favbutton.setAttribute("src", "atom.png");
            q1favbutton.setAttribute("class", "fav");

            chat_div.appendChild(chat_title);
            chat_div.appendChild(chat_data);
            chat_div.appendChild(q1favbutton);

            chatarea.prepend(chat_div);

            chat_div.addEventListener("click", function() {
                question2_div_create(chat.title_in_storage, chat.chat_data_in_storage, this);
            });

            q1favbutton.addEventListener("click", function() {
                if (this.src.includes("atom.png")) {
                    chat_div.remove();
                    chatarea.prepend(chat_div);
                    this.src = "pinwheel.png";
                } else if (this.src.includes("pinwheel.png")) {
                    chat_div.remove();
                    chatarea.append(chat_div);
                    this.src = "atom.png";
                }
            });
        });
    }

    // Initialize the question form
    question1_div_create();
};







































// let lrparent = document.querySelector(".lrparent");
// let chatarea = document.querySelector(".chatarea");

// let title = document.getElementById("title");
// let question = document.getElementById("question");
// let submitQuesButton = document.getElementById("submitquestion");
// let rightpane = document.querySelector(".rightpane");
// var idtoberesolved;
// let chat_storage_array = [];
// let response_obj = {};

// // Load data from local storage on page load
// window.onload = function () {
//     loadChatsFromLocalStorage();
//     question1_div_create();
// };

// function loadChatsFromLocalStorage() {
//     let storedChats = JSON.parse(localStorage.getItem("chat_local_storage"));
//     if (storedChats) {
//         chat_storage_array = storedChats;

//         chat_storage_array.forEach(chat => {
//             let chat_div = document.createElement("div");
//             chat_div.setAttribute("id", chat.id_current_storage);
//             chat_div.setAttribute("class", "chatn");

//             let chat_title = document.createElement("h3");
//             let chat_data = document.createElement("p");
//             chat_title.innerText = chat.title_in_storage;
//             chat_data.innerText = chat.chat_data_in_storage;
//             let q1favbutton = document.createElement("img");
//             q1favbutton.setAttribute("src", "atom.png");
//             q1favbutton.setAttribute("class", "fav");

//             chat_div.appendChild(chat_title);
//             chat_div.appendChild(chat_data);
//             chat_div.appendChild(q1favbutton);

//             chatarea.prepend(chat_div);

//             chat_div.addEventListener("click", function () {
//                 question2_div_create(chat_title.innerText, chat_data.innerText, this);
//             });

//             q1favbutton.addEventListener("click", function () {
//                 if (this.src.includes("atom.png")) {
//                     chat_div.remove();
//                     chatarea.prepend(chat_div);
//                     this.src = "pinwheel.png";
//                 } else {
//                     chat_div.remove();
//                     chatarea.append(chat_div);
//                     this.src = "atom.png";
//                 }
//             });
//         });
//     }
// }

// function question1_div_create() {
//     rightpane.innerHTML = "";

//     let q1title = document.createElement("h2");
//     q1title.innerText = "Enter your query here : ";
//     let q1input_title = document.createElement("textarea");
//     q1input_title.placeholder = "Title here : ";
//     q1input_title.setAttribute("class", "pretty-textarea");
//     let q1input_qdata = document.createElement("textarea");
//     q1input_qdata.setAttribute("class", "pretty-textarea");
//     q1input_qdata.placeholder = "My question is..............?";
//     q1input_qdata.style.display = "block ";
//     let q1button = document.createElement("button");
//     q1button.setAttribute("class", "button-33");
//     q1button.innerText = "Submit";

//     rightpane.appendChild(q1title);
//     rightpane.appendChild(q1input_title);
//     rightpane.appendChild(q1input_qdata);
//     rightpane.appendChild(q1button);

//     q1button.addEventListener("click", function () {
//         let chat_div = document.createElement("div");
//         chat_div.setAttribute("id", Date.now().toString());
//         chat_div.setAttribute("class", "chatn");

//         let chat_title = document.createElement("h3");
//         let chat_data = document.createElement("p");
//         chat_title.innerText = q1input_title.value;
//         chat_data.innerText = q1input_qdata.value;
//         let q1favbutton = document.createElement("img");
//         q1favbutton.setAttribute("src", "atom.png");
//         q1favbutton.setAttribute("class", "fav");

//         chat_div.appendChild(chat_title);
//         chat_div.appendChild(chat_data);
//         chat_div.appendChild(q1favbutton);

//         chatarea.prepend(chat_div);

//         q1input_title.value = "";
//         q1input_qdata.value = "";

//         chat_div.addEventListener("click", function () {
//             question2_div_create(chat_title.innerText, chat_data.innerText, this);
//         });

//         q1favbutton.addEventListener("click", function () {
//             if (this.src.includes("atom.png")) {
//                 chat_div.remove();
//                 chatarea.prepend(chat_div);
//                 this.src = "pinwheel.png";
//             } else {
//                 chat_div.remove();
//                 chatarea.append(chat_div);
//                 this.src = "atom.png";
//             }
//         });

//         let chat_obj = {
//             title_in_storage: chat_title.innerText,
//             chat_data_in_storage: chat_data.innerText,
//             id_current_storage: chat_div.id,
//             responses: []
//         }
//         chat_storage_array.push(chat_obj);

//         localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
//     });
// }

// function getChatIndexById(chatId) {
//     return chat_storage_array.findIndex(chat => chat.id_current_storage === chatId);
// }

// function question2_div_create(titleText, dataText, x) {
//     rightpane.innerHTML = "";

//     let q2heading = document.createElement("h3");
//     q2heading.innerText = "Question";
//     let q2displaybox = document.createElement("div");
//     let q2ques_title = document.createElement("p");
//     q2ques_title.style.backgroundColor = "antiquewhite";
//     q2ques_title.innerText = titleText;
//     let q2ques_data = document.createElement("p");
//     q2ques_data.innerText = dataText;
//     q2ques_data.style.backgroundColor = "grey";

//     let q2button = document.createElement("button");
//     q2button.setAttribute("class", "button-33");
//     q2button.innerText = "Resolve";

//     let solutionarea = document.createElement("div");
//     solutionarea.id = "solutionarea";

//     let Response = document.createElement("h4");
//     Response.innerText = "Response";
//     let addResponse = document.createElement("h3");
//     addResponse.innerText = "Add response here : ";
//     let addResponsetitlebox = document.createElement("textarea");
//     addResponsetitlebox.innerText = "Add response here : ";
//     let addResponsedatabox = document.createElement("textarea");
//     addResponsedatabox.innerText = "Add response here : ";
//     addResponsedatabox.style.display = "block";
//     let addResponse_button = document.createElement("button");
//     addResponse_button.innerText = "Add";
//     addResponse_button.className = "button-33";

//     q2button.addEventListener("click", function () {
//         x.remove();
//         chat_storage_array = chat_storage_array.filter(chat => chat.id_current_storage !== x.id);
//         localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
//         question1_div_create();
//     });

//     solutionarea.appendChild(q2heading);
//     solutionarea.appendChild(q2ques_title);
//     solutionarea.appendChild(q2ques_data);
//     solutionarea.appendChild(q2button);

//     q2displaybox.appendChild(solutionarea);

//     q2displaybox.appendChild(Response);
//     q2displaybox.appendChild(addResponse);
//     q2displaybox.appendChild(addResponsetitlebox);
//     q2displaybox.appendChild(addResponsedatabox);
//     q2displaybox.appendChild(addResponse_button);

//     // Load and sort responses by net likes
//     let current_index = getChatIndexById(x.id);
//     if (current_index !== -1) {
//         let responses = chat_storage_array[current_index].responses;

//         // Sort by net likes (likes - dislikes)
//         responses.sort((a, b) => (b.like_storage - b.dislike_storage) - (a.like_storage - a.dislike_storage));

//         // Render each response
//         renderResponses(solutionarea, responses, current_index);
//     }

//     addResponse_button.addEventListener("click", function () {
//         response_obj = {
//             title: addResponsetitlebox.value,
//             data: addResponsedatabox.value,
//             like_storage: 0,
//             dislike_storage: 0
//         };

//         if (current_index !== -1) {
//             chat_storage_array[current_index].responses.push(response_obj);

//             // Re-sort the responses after adding a new one
//             chat_storage_array[current_index].responses.sort((a, b) => (b.like_storage - b.dislike_storage) - (a.like_storage - a.dislike_storage));

//             // Clear and re-render the sorted responses
//             solutionarea.innerHTML = "";
//             renderResponses(solutionarea, chat_storage_array[current_index].responses, current_index);

//             saveResponses(current_index);
//         }
//     });

//     rightpane.appendChild(q2displaybox);
// }

// function renderResponses(solutionarea, responses, current_index) {
//     responses.forEach(response => {
//         let particular_response = document.createElement("div");
//         particular_response.className = "chatn";

//         let particular_response_title = document.createElement("h2");
//         let particular_response_data = document.createElement("p");

//         let like_button = document.createElement("img");
//         like_button.setAttribute("src", "like.png");
//         like_button.setAttribute("class", "fav");
//         let like_count_para = document.createElement("p");

//         let dislike_button = document.createElement("img");
//         dislike_button.setAttribute("src", "dislike.png");
//         dislike_button.setAttribute("class", "fav");
//         let dislike_count_para = document.createElement("p");

//         particular_response_title.innerText = response.title;
//         particular_response_data.innerText = response.data;

//         like_count_para.innerText = response.like_storage;
//         dislike_count_para.innerText = response.dislike_storage;

//         particular_response.appendChild(particular_response_title);
//         particular_response.appendChild(particular_response_data);
//         particular_response.appendChild(like_button);
//         particular_response.appendChild(like_count_para);
//         particular_response.appendChild(dislike_button);
//         particular_response.appendChild(dislike_count_para);

//         solutionarea.appendChild(particular_response);

//         like_button.addEventListener("click", function () {
//             response.like_storage++;
//             like_count_para.innerText = response.like_storage;
//             saveResponses(current_index);
//             question2_div_create(response_obj.title, response_obj.data, document.getElementById(chat_storage_array[current_index].id_current_storage));
//         });

//         dislike_button.addEventListener("click", function () {
//             response.dislike_storage++;
//             dislike_count_para.innerText = response.dislike_storage;
//             saveResponses(current_index);
//             question2_div_create(response_obj.title, response_obj.data, document.getElementById(chat_storage_array[current_index].id_current_storage));
//         });
//     });
// }

// function saveResponses(current_index) {
//     localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
// }




























function getTimeAgo(timestamp) {
    const seconds = Math.floor((Date.now() - timestamp) / 1000);
    if (seconds < 60) {
        return seconds + " seconds ago";
    } else if (seconds < 3600) {
        return Math.floor(seconds / 60) + " minutes ago";
    } else if (seconds < 86400) {
        return Math.floor(seconds / 3600) + " hours ago";
    } else {
        return Math.floor(seconds / 86400) + " days ago";
    }
}

let lrparent = document.querySelector(".lrparent");
let chatarea = document.querySelector(".chatarea");

let title = document.getElementById("title");
let question = document.getElementById("question");
let submitQuesButton = document.getElementById("submitquestion");
let rightpane = document.querySelector(".rightpane");
var idtoberesolved;
let chat_storage_array = [];
let response_obj = {};

// Load data from local storage on page load
window.onload = function () {
    loadChatsFromLocalStorage();
    question1_div_create();
};

function loadChatsFromLocalStorage() {
    let storedChats = JSON.parse(localStorage.getItem("chat_local_storage"));
    if (storedChats) {
        chat_storage_array = storedChats;

        chat_storage_array.forEach(chat => {
            let chat_div = document.createElement("div");
            chat_div.setAttribute("id", chat.id_current_storage);
            chat_div.setAttribute("class", "chatn");

            let chat_title = document.createElement("h3");
            let chat_data = document.createElement("p");
            let chat_time = document.createElement("span");

            chat_title.innerText = chat.title_in_storage;
            chat_data.innerText = chat.chat_data_in_storage;
            chat_time.innerText = getTimeAgo(parseInt(chat.id_current_storage));

            let q1favbutton = document.createElement("img");
            q1favbutton.setAttribute("src", "atom.png");
            q1favbutton.setAttribute("class", "fav");

            chat_div.appendChild(chat_title);
            chat_div.appendChild(chat_data);
            chat_div.appendChild(chat_time);
            chat_div.appendChild(q1favbutton);

            chatarea.prepend(chat_div);

            chat_div.addEventListener("click", function () {
                question2_div_create(chat_title.innerText, chat_data.innerText, this);
            });

            q1favbutton.addEventListener("click", function () {
                if (this.src.includes("atom.png")) {
                    chat_div.remove();
                    chatarea.prepend(chat_div);
                    this.src = "pinwheel.png";
                } else {
                    chat_div.remove();
                    chatarea.append(chat_div);
                    this.src = "atom.png";
                }
            });
        });
    }
}

function question1_div_create() {
    rightpane.innerHTML = "";

    let q1title = document.createElement("h2");
    q1title.innerText = "Enter your query here : ";
    let q1input_title = document.createElement("textarea");
    q1input_title.placeholder = "Title here : ";
    q1input_title.setAttribute("class", "pretty-textarea");
    let q1input_qdata = document.createElement("textarea");
    q1input_qdata.setAttribute("class", "pretty-textarea");
    q1input_qdata.placeholder = "My question is..............?";
    q1input_qdata.style.display = "block ";
    let q1button = document.createElement("button");
    q1button.setAttribute("class", "button-33");
    q1button.innerText = "Submit";

    rightpane.appendChild(q1title);
    rightpane.appendChild(q1input_title);
    rightpane.appendChild(q1input_qdata);
    rightpane.appendChild(q1button);

    q1button.addEventListener("click", function () {
        let chat_div = document.createElement("div");
        let timestamp = Date.now();
        chat_div.setAttribute("id", timestamp.toString());
        chat_div.setAttribute("class", "chatn");

        let chat_title = document.createElement("h3");
        let chat_data = document.createElement("p");
        let chat_time = document.createElement("span");

        chat_title.innerText = q1input_title.value;
        chat_data.innerText = q1input_qdata.value;
        chat_time.innerText = getTimeAgo(timestamp);

        let q1favbutton = document.createElement("img");
        q1favbutton.setAttribute("src", "atom.png");
        q1favbutton.setAttribute("class", "fav");

        chat_div.appendChild(chat_title);
        chat_div.appendChild(chat_data);
        chat_div.appendChild(chat_time);
        chat_div.appendChild(q1favbutton);

        chatarea.prepend(chat_div);

        q1input_title.value = "";
        q1input_qdata.value = "";

        chat_div.addEventListener("click", function () {
            question2_div_create(chat_title.innerText, chat_data.innerText, this);
        });

        q1favbutton.addEventListener("click", function () {
            if (this.src.includes("atom.png")) {
                chat_div.remove();
                chatarea.prepend(chat_div);
                this.src = "pinwheel.png";
            } else {
                chat_div.remove();
                chatarea.append(chat_div);
                this.src = "atom.png";
            }
        });

        let chat_obj = {
            title_in_storage: chat_title.innerText,
            chat_data_in_storage: chat_data.innerText,
            id_current_storage: chat_div.id,
            responses: []
        }
        chat_storage_array.push(chat_obj);

        localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
    });
}

function getChatIndexById(chatId) {
    return chat_storage_array.findIndex(chat => chat.id_current_storage === chatId);
}

function question2_div_create(titleText, dataText, x) {
    rightpane.innerHTML = "";

    let q2heading = document.createElement("h3");
    q2heading.innerText = "Question";
    let q2displaybox = document.createElement("div");
    let q2ques_title = document.createElement("p");
    q2ques_title.style.backgroundColor = "antiquewhite";
    q2ques_title.innerText = titleText;
    let q2ques_data = document.createElement("p");
    q2ques_data.innerText = dataText;
    q2ques_data.style.backgroundColor = "grey";

    let q2button = document.createElement("button");
    q2button.setAttribute("class", "button-33");
    q2button.innerText = "Resolve";

    let solutionarea = document.createElement("div");
    solutionarea.id = "solutionarea";

    let Response = document.createElement("h4");
    Response.innerText = "Response";
    let addResponse = document.createElement("h3");
    addResponse.innerText = "Add response here : ";
    let addResponsetitlebox = document.createElement("textarea");
    addResponsetitlebox.innerText = "Add response here : ";
    let addResponsedatabox = document.createElement("textarea");
    addResponsedatabox.innerText = "Add response here : ";
    addResponsedatabox.style.display = "block";
    let addResponse_button = document.createElement("button");
    addResponse_button.innerText = "Add";
    addResponse_button.className = "button-33";

    q2button.addEventListener("click", function () {
        x.remove();
        chat_storage_array = chat_storage_array.filter(chat => chat.id_current_storage !== x.id);
        localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
        question1_div_create();
    });

    solutionarea.appendChild(q2heading);
    solutionarea.appendChild(q2ques_title);
    solutionarea.appendChild(q2ques_data);
    solutionarea.appendChild(q2button);

    q2displaybox.appendChild(solutionarea);

    q2displaybox.appendChild(Response);
    q2displaybox.appendChild(addResponse);
    q2displaybox.appendChild(addResponsetitlebox);
    q2displaybox.appendChild(addResponsedatabox);
    q2displaybox.appendChild(addResponse_button);

    // Load and sort responses by net likes
    let current_index = getChatIndexById(x.id);
    if (current_index !== -1) {
        let responses = chat_storage_array[current_index].responses;

        // Sort by net likes (likes - dislikes)
        responses.sort((a, b) => (b.like_storage - b.dislike_storage) - (a.like_storage - a.dislike_storage));

        // Render each response
        renderResponses(solutionarea, responses, current_index);
    }

    addResponse_button.addEventListener("click", function () {
        response_obj = {
            title: addResponsetitlebox.value,
            data: addResponsedatabox.value,
            like_storage: 0,
            dislike_storage: 0
        };

        if (current_index !== -1) {
            chat_storage_array[current_index].responses.push(response_obj);

            // Re-sort the responses after adding a new one
            chat_storage_array[current_index].responses.sort((a, b) => (b.like_storage - b.dislike_storage) - (a.like_storage - a.dislike_storage));

            // Clear and re-render the sorted responses
            solutionarea.innerHTML = "";
            renderResponses(solutionarea, chat_storage_array[current_index].responses, current_index);

            saveResponses(current_index);
        }
    });

    rightpane.appendChild(q2displaybox);
}

function renderResponses(solutionarea, responses, current_index) {
    responses.forEach(response => {
        let particular_response = document.createElement("div");
        particular_response.className = "chatn";

        let particular_response_title = document.createElement("h2");
        let particular_response_data = document.createElement("p");

        let like_button = document.createElement("img");
        like_button.setAttribute("src", "like.png");
        like_button.setAttribute("class", "fav");
        let like_count_para = document.createElement("p");

        let dislike_button = document.createElement("img");
        dislike_button.setAttribute("src", "dislike.png");
        dislike_button.setAttribute("class", "fav");
        let dislike_count_para = document.createElement("p");

        particular_response_title.innerText = response.title;
        particular_response_data.innerText = response.data;

        like_count_para.innerText = response.like_storage;
        dislike_count_para.innerText = response.dislike_storage;

        particular_response.appendChild(particular_response_title);
        particular_response.appendChild(particular_response_data);
        particular_response.appendChild(like_button);
        particular_response.appendChild(like_count_para);
        particular_response.appendChild(dislike_button);
        particular_response.appendChild(dislike_count_para);

        solutionarea.appendChild(particular_response);

        like_button.addEventListener("click", function () {
            response.like_storage++;
            like_count_para.innerText = response.like_storage;
            saveResponses(current_index);
            question2_div_create(response_obj.title, response_obj.data, document.getElementById(chat_storage_array[current_index].id_current_storage));
        });

        dislike_button.addEventListener("click", function () {
            response.dislike_storage++;
            dislike_count_para.innerText = response.dislike_storage;
            saveResponses(current_index);
            question2_div_create(response_obj.title, response_obj.data, document.getElementById(chat_storage_array[current_index].id_current_storage));
        });
    });
}

function saveResponses(current_index) {
    localStorage.setItem("chat_local_storage", JSON.stringify(chat_storage_array));
}
